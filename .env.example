# =============================================================================
# ESPYNA ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and configure your environment

# late | eager | lazy
CONFIG_WORKFLOW_ENGINE_MODE=late

# =============================================================================
# PROVIDER SELECTION
# =============================================================================
# Select which providers to use for each service

# Database Provider: mock_db | postgres | firestore
CONFIG_DATABASE_PROVIDER=mock_db

# Authentication Provider: mock_auth | firebase_auth | jwt_auth | noop
CONFIG_AUTH_PROVIDER=mock_auth

# ID Provider: noop | google_uuidv7
CONFIG_ID_PROVIDER=noop

# Email Provider: mock_email | sendgrid | ses
CONFIG_EMAIL_PROVIDER=mock_email

# Storage Provider: mock_storage | local | gcs | s3
CONFIG_STORAGE_PROVIDER=mock_storage

# Translation Provider: lyngua | file | noop (default: lyngua)
CONFIG_TRANSLATION_PROVIDER=lyngua

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server Provider: gin | fiber | fiber_v3 | vanilla
# This selects the HTTP framework to use. Must match your build tags.
# Build Tags: gin, fiber, fiber_v3, or vanilla
CONFIG_SERVER_PROVIDER=vanilla

# Server port and host
CONFIG_SERVER_PORT=8080
SERVER_HOST=localhost
SERVER_PORT=8080

# Legacy naming (deprecated, use CONFIG_SERVER_PROVIDER instead)
# CONFIG_SERVER_FRAMEWORK=vanilla

# =============================================================================
# MULTI-FRAMEWORK SUPPORT
# =============================================================================
# Enable multiple HTTP frameworks simultaneously

FRAMEWORK_VANILLA_ENABLED=true
FRAMEWORK_VANILLA_PORT=8080

FRAMEWORK_GIN_ENABLED=false
FRAMEWORK_GIN_PORT=8081

FRAMEWORK_FIBER_ENABLED=false
FRAMEWORK_FIBER_PORT=8082

# =============================================================================
# BUSINESS CONFIGURATION
# =============================================================================

# Business type for mock data: education | healthcare | ecommerce | etc.
BUSINESS_TYPE=education

# =============================================================================
# TRANSLATION CONFIGURATION
# =============================================================================
# Required when CONFIG_TRANSLATION_PROVIDER=file or lyngua
#
# Path to translation files (JSON format)
# Directory structure: {path}/{locale}/{businessType}/*.json
# Example: translations/en/education/messages.json

# Translation files path (default: "translations")
LEAPFOR_TRANSLATION_PATH=translations

# Alternative naming
# TRANSLATIONS_PATH=translations

# =============================================================================
# API KEYS
# =============================================================================

# API key for general authentication
X_API_KEY=your-api-key-here

# API key for scheduler/cron jobs
X_API_KEY_SCHEDULER=your-scheduler-api-key-here

# =============================================================================
# POSTGRESQL CONFIGURATION
# =============================================================================
# Required when CONFIG_DATABASE_PROVIDER=postgres

POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_NAME=espyna
POSTGRES_USER=postgres
POSTGRES_PASSWORD=
POSTGRES_SSL_MODE=disable

# Alternative: Full connection URL (overrides individual settings)
# POSTGRES_URL=postgres://user:password@localhost:5432/espyna?sslmode=disable

# =============================================================================
# FIRESTORE CONFIGURATION
# =============================================================================
# Required when CONFIG_DATABASE_PROVIDER=firestore

FIRESTORE_PROJECT_ID=your-gcp-project-id
FIRESTORE_CREDENTIALS_PATH=/path/to/service-account.json
FIRESTORE_DATABASE=

# For local development with emulator
# FIRESTORE_EMULATOR_HOST=localhost:8080

# =============================================================================
# FIREBASE AUTHENTICATION
# =============================================================================
# Required when CONFIG_AUTH_PROVIDER=firebase_auth

FIREBASE_AUTH_PROJECT_ID=your-gcp-project-id
FIREBASE_AUTH_CREDENTIALS_PATH=/path/to/service-account.json
FIREBASE_AUTH_TENANT_ID=

# =============================================================================
# GMAIL INTEGRATION (Service Account with Domain-Wide Delegation)
# =============================================================================
# Required build tags: google,gmail
# Uses service account with domain-wide delegation for sending emails
#
# Prerequisites:
# 1. Create a GCP service account
# 2. Enable domain-wide delegation in Google Workspace Admin Console
# 3. Grant the service account the gmail.send scope

# GCP Project ID (optional, for logging)
LEAPFOR_INTEGRATION_EMAIL_GMAIL_PROJECT_ID=your-gcp-project-id

# Email to impersonate (REQUIRED) - must be a Google Workspace user
LEAPFOR_INTEGRATION_EMAIL_GMAIL_DELEGATE_EMAIL=admin@yourdomain.com

# Default sender email (falls back to delegate email if not set)
LEAPFOR_INTEGRATION_EMAIL_GMAIL_FROM_EMAIL=noreply@yourdomain.com

# Default sender display name
LEAPFOR_INTEGRATION_EMAIL_GMAIL_FROM_NAME=Your App Name

# Default reply-to email address
LEAPFOR_INTEGRATION_EMAIL_GMAIL_REPLY_TO_EMAIL=support@yourdomain.com

# Path to service account JSON file (for local development)
LEAPFOR_INTEGRATION_EMAIL_GMAIL_SERVICE_ACCOUNT_KEY_PATH=/path/to/service-account.json

# Secret Manager resource path (for production)
# Format: projects/PROJECT_ID/secrets/SECRET_NAME/versions/latest
# LEAPFOR_INTEGRATION_EMAIL_GMAIL_SECRET_MANAGER_PATH=projects/my-project/secrets/gmail-sa-key/versions/latest

# Use Secret Manager instead of file path (true/false)
LEAPFOR_INTEGRATION_EMAIL_GMAIL_USE_SECRET_MANAGER=false

# Request timeout
LEAPFOR_INTEGRATION_EMAIL_GMAIL_TIMEOUT=30s

# =============================================================================
# MICROSOFT GRAPH EMAIL INTEGRATION
# =============================================================================
# Required build tags: microsoft,microsoftgraph
# Uses OAuth2 client credentials flow with delegated email permissions
#
# Prerequisites:
# 1. Register an app in Azure AD (https://portal.azure.com/)
# 2. Generate client secret in Azure AD
# 3. Grant API permissions: Mail.Send, Mail.Read
# 4. Grant admin consent for the application

# Azure AD Tenant ID (REQUIRED) - Your Azure Active Directory tenant identifier
LEAPFOR_INTEGRATION_EMAIL_MICROSOFT_TENANT_ID=your-tenant-id

# OAuth2 Client ID (REQUIRED) - Application (client) ID from Azure AD app registration
LEAPFOR_INTEGRATION_EMAIL_MICROSOFT_CLIENT_ID=your-client-id

# OAuth2 Client Secret (REQUIRED) - Client secret generated in Azure AD
LEAPFOR_INTEGRATION_EMAIL_MICROSOFT_CLIENT_SECRET=your-client-secret

# Delegated User Email (REQUIRED) - User mailbox to impersonate for sending emails
LEAPFOR_INTEGRATION_EMAIL_MICROSOFT_DELEGATE_EMAIL=user@yourdomain.com

# Default sender email (optional, falls back to delegate email if not set)
LEAPFOR_INTEGRATION_EMAIL_MICROSOFT_FROM_EMAIL=noreply@yourdomain.com

# Default sender display name (optional)
LEAPFOR_INTEGRATION_EMAIL_MICROSOFT_FROM_NAME=Your App Name

# OAuth2 Redirect URL (optional, required only for OAuth authorization code flow)
LEAPFOR_INTEGRATION_EMAIL_MICROSOFT_REDIRECT_URL=https://your-app.com/callback

# Pre-configured Access Token (optional, for testing without full OAuth flow)
LEAPFOR_INTEGRATION_EMAIL_MICROSOFT_ACCESS_TOKEN=your-access-token

# Pre-configured Refresh Token (optional, for token refresh)
LEAPFOR_INTEGRATION_EMAIL_MICROSOFT_REFRESH_TOKEN=your-refresh-token

# Token Type (optional, defaults to "Bearer")
LEAPFOR_INTEGRATION_EMAIL_MICROSOFT_TOKEN_TYPE=Bearer

# Token Expiry (optional, RFC3339 format for pre-configured tokens)
LEAPFOR_INTEGRATION_EMAIL_MICROSOFT_TOKEN_EXPIRY=2024-01-01T00:00:00Z

# Request timeout (optional, defaults to 30s)
LEAPFOR_INTEGRATION_EMAIL_MICROSOFT_TIMEOUT=30s

# =============================================================================
# GCP CONFIGURATION (Consumer Package)
# =============================================================================

LEAPFOR_GCP_PROJECT_ID=your-gcp-project-id
LEAPFOR_DATABASE_FIRESTORE_DB=

# =============================================================================
# TABLE/COLLECTION NAME OVERRIDES (Optional)
# =============================================================================
# Override default table/collection names per database type
#
# For PostgreSQL use prefix: LEAPFOR_DATABASE_POSTGRES_TABLE_
# For Firestore use prefix:  LEAPFOR_DATABASE_FIRESTORE_COLLECTION_
#
# Examples:
# LEAPFOR_DATABASE_POSTGRES_TABLE_CLIENT=clients
# LEAPFOR_DATABASE_FIRESTORE_COLLECTION_CLIENT=clients
#
# Available entities:
# ATTRIBUTE, CLIENT, CLIENT_ATTRIBUTE, ADMIN, MANAGER, STAFF, STAFF_ATTRIBUTE,
# DELEGATE, DELEGATE_ATTRIBUTE, DELEGATE_CLIENT, GROUP, GROUP_ATTRIBUTE,
# LOCATION, LOCATION_ATTRIBUTE, PERMISSION, ROLE, ROLE_PERMISSION, USER,
# WORKSPACE, WORKSPACE_CLIENT, WORKSPACE_USER, WORKSPACE_USER_ROLE,
# EVENT, EVENT_ATTRIBUTE, EVENT_CLIENT, EVENT_PRODUCT, EVENT_SETTINGS,
# FRAMEWORK, OBJECTIVE, TASK,
# PAYMENT, PAYMENT_ATTRIBUTE, PAYMENT_METHOD, PAYMENT_PROFILE, PAYMENT_PROFILE_PAYMENT_METHOD,
# PRODUCT, COLLECTION, COLLECTION_ATTRIBUTE, COLLECTION_PARENT, COLLECTION_PLAN,
# PRICE_PRODUCT, PRODUCT_ATTRIBUTE, PRODUCT_COLLECTION, PRODUCT_PLAN, RESOURCE,
# RECORD,
# WORKFLOW, WORKFLOW_TEMPLATE, STAGE, ACTIVITY, STAGE_TEMPLATE, ACTIVITY_TEMPLATE,
# PLAN, PLAN_ATTRIBUTE, PLAN_LOCATION, PLAN_SETTINGS,
# BALANCE, BALANCE_ATTRIBUTE, INVOICE, INVOICE_ATTRIBUTE,
# PRICE_PLAN, SUBSCRIPTION, SUBSCRIPTION_ATTRIBUTE

# =============================================================================
# PAYMENT INTEGRATION (AsiaPay)
# =============================================================================
# Required build tags: asiapay
# Configuration is handled by the adapter itself, not core/config.go
#
# AsiaPay is a payment gateway supporting credit cards, debit cards, and
# digital wallets in Asia-Pacific regions.

# Merchant ID (REQUIRED) - Your AsiaPay merchant identifier
LEAPFOR_INTEGRATION_PAYMENT_ASIAPAY_MERCHANT_ID=your-merchant-id

# Secure Hash Secret (REQUIRED) - Used to generate request signatures
LEAPFOR_INTEGRATION_PAYMENT_ASIAPAY_SECURE_SECRET=your-secure-secret

# Default Currency Code (numeric: 608=PHP, 344=HKD, 840=USD)
LEAPFOR_INTEGRATION_PAYMENT_ASIAPAY_CURRENCY_CODE=608

# Payment Type (N=Normal, H=Hold)
LEAPFOR_INTEGRATION_PAYMENT_ASIAPAY_PAYMENT_TYPE=N

# Interface Language (E=English, C=Chinese)
LEAPFOR_INTEGRATION_PAYMENT_ASIAPAY_LANGUAGE=E

# Payment Method Filter (ALL, VISA, MASTERCARD, etc.)
LEAPFOR_INTEGRATION_PAYMENT_ASIAPAY_PAYMENT_METHOD=ALL

# Enable Sandbox/Test Mode (true/false)
LEAPFOR_INTEGRATION_PAYMENT_ASIAPAY_SANDBOX_MODE=true

# Base URL for redirect callbacks (your app's base URL)
LEAPFOR_INTEGRATION_PAYMENT_ASIAPAY_BASE_URL=https://your-app.com

# Redirect paths
LEAPFOR_INTEGRATION_PAYMENT_ASIAPAY_SUCCESS_PATH=/payment/success
LEAPFOR_INTEGRATION_PAYMENT_ASIAPAY_FAILURE_PATH=/payment/fail
LEAPFOR_INTEGRATION_PAYMENT_ASIAPAY_CANCEL_PATH=/payment/cancel
LEAPFOR_INTEGRATION_PAYMENT_ASIAPAY_WEBHOOK_PATH=/integration/payment/webhook

# Request timeout
LEAPFOR_INTEGRATION_PAYMENT_ASIAPAY_TIMEOUT=30s

# =============================================================================
# PAYMENT INTEGRATION (Maya / PayMaya)
# =============================================================================
# Required build tags: maya
# Configuration is handled by the adapter itself, not core/config.go
#
# Maya (formerly PayMaya) is a Philippine payment gateway and digital wallet
# supporting credit cards, debit cards, e-wallets, and QR payments.
#
# API Documentation: https://developers.maya.ph/
# Sandbox Dashboard: https://merchant-demo.paymaya.com/
#
# Sandbox API Keys (for testing):
#   Public: pk-Z0OSzLvIcOI2UIvDhdTGVVfRSSeiGStnceqwUE7n0Ah
#   Secret: sk-X8qolYjy62kIzEbr0QRK1h4b4KDVHaNcwMYk39jInSl
#
# Test Cards (Sandbox only):
#   MASTERCARD: 5123456789012346 (12/2030, CVV: 111)
#   VISA: 4123450131001381 (12/2030, CVV: 123)

# Public API Key (REQUIRED) - Used for checkout creation
LEAPFOR_INTEGRATION_PAYMENT_MAYA_PUBLIC_KEY=your-public-key

# Secret API Key (REQUIRED) - Used for server-side operations (refunds, status queries)
LEAPFOR_INTEGRATION_PAYMENT_MAYA_SECRET_KEY=your-secret-key

# Enable Sandbox/Test Mode (true/false)
LEAPFOR_INTEGRATION_PAYMENT_MAYA_SANDBOX=true

# Base URL for redirect callbacks (your app's base URL)
LEAPFOR_INTEGRATION_PAYMENT_MAYA_BASE_URL=https://your-app.com

# Redirect paths
LEAPFOR_INTEGRATION_PAYMENT_MAYA_SUCCESS_PATH=/payment/success
LEAPFOR_INTEGRATION_PAYMENT_MAYA_FAILURE_PATH=/payment/fail
LEAPFOR_INTEGRATION_PAYMENT_MAYA_CANCEL_PATH=/payment/cancel
LEAPFOR_INTEGRATION_PAYMENT_MAYA_WEBHOOK_PATH=/integration/payment/webhook

# Request timeout
LEAPFOR_INTEGRATION_PAYMENT_MAYA_TIMEOUT=30s

# Webhook IP Whitelist (for production security)
# Sandbox IPs: 13.229.160.234, 3.1.199.75
# Production IPs: 18.138.50.235, 3.1.207.200

# =============================================================================
# PAYMENT INTEGRATION (PayPal)
# =============================================================================
# Required build tags: paypal
# Configuration is handled by the adapter itself, not core/config.go
#
# PayPal is a global payment gateway supporting credit cards, debit cards,
# PayPal balance, Venmo (US), and Pay Later options.
#
# API Documentation: https://developer.paypal.com/docs/api/overview/
# Sandbox Dashboard: https://developer.paypal.com/dashboard/
#
# Sandbox Test Accounts:
#   Create buyer/seller test accounts at: https://developer.paypal.com/dashboard/accounts
#
# Test Cards (Sandbox only):
#   VISA: 4032039534213337 (any future expiry, any CVV)
#   MASTERCARD: 5425233430109903 (any future expiry, any CVV)

# Client ID (REQUIRED) - OAuth2 client identifier
LEAPFOR_INTEGRATION_PAYMENT_PAYPAL_CLIENT_ID=your-client-id

# Client Secret (REQUIRED) - OAuth2 client secret
LEAPFOR_INTEGRATION_PAYMENT_PAYPAL_CLIENT_SECRET=your-client-secret

# Enable Sandbox/Test Mode (true/false)
LEAPFOR_INTEGRATION_PAYMENT_PAYPAL_SANDBOX=true

# Base URL for redirect callbacks (your app's base URL)
LEAPFOR_INTEGRATION_PAYMENT_PAYPAL_BASE_URL=https://your-app.com

# Redirect paths
LEAPFOR_INTEGRATION_PAYMENT_PAYPAL_SUCCESS_PATH=/payment/success
LEAPFOR_INTEGRATION_PAYMENT_PAYPAL_FAILURE_PATH=/payment/fail
LEAPFOR_INTEGRATION_PAYMENT_PAYPAL_CANCEL_PATH=/payment/cancel
LEAPFOR_INTEGRATION_PAYMENT_PAYPAL_WEBHOOK_PATH=/integration/payment/webhook

# Request timeout
LEAPFOR_INTEGRATION_PAYMENT_PAYPAL_TIMEOUT=30s

# Webhook ID for signature verification (optional, for production)
# LEAPFOR_INTEGRATION_PAYMENT_PAYPAL_WEBHOOK_ID=your-webhook-id

# =============================================================================
# SCHEDULER INTEGRATION (Calendly)
# =============================================================================
# Required build tags: calendly
# Configuration is handled by the adapter itself
#
# Calendly is a scheduling platform for booking appointments, meetings, etc.
# API Documentation: https://developer.calendly.com/api-docs

# Scheduler Provider Selection: calendly | mock_scheduler
CONFIG_SCHEDULER_PROVIDER=mock_scheduler

# Calendly Personal Access Token (REQUIRED for calendly provider)
# Get from: https://calendly.com/integrations/api_webhooks
CALENDLY_PERSONAL_ACCESS_TOKEN=your-calendly-access-token

# Default Event Type ID (optional)
# Format: https://api.calendly.com/event_types/{uuid} or just {uuid}
# CALENDLY_DEFAULT_EVENT_TYPE_ID=your-event-type-uuid

# User URI (optional, fetched automatically from /users/me if not provided)
# Format: https://api.calendly.com/users/{uuid}
# CALENDLY_USER_URI=https://api.calendly.com/users/your-user-uuid

# Organization URI (optional, for organization-level operations)
# Format: https://api.calendly.com/organizations/{uuid}
# CALENDLY_ORGANIZATION_URI=https://api.calendly.com/organizations/your-org-uuid

# Webhook Secret for signature verification (optional)
# CALENDLY_WEBHOOK_SECRET=your-webhook-secret

# API Base URL (optional, defaults to https://api.calendly.com)
# CALENDLY_API_BASE_URL=https://api.calendly.com

# =============================================================================
# GOOGLE SHEETS INTEGRATION (Datasheet Service)
# =============================================================================
# Required build tags: google,googlesheets
# Uses service account with domain-wide delegation for spreadsheet operations
#
# Prerequisites:
# 1. Create a GCP service account
# 2. Enable the Google Sheets API in your GCP project
# 3. Enable domain-wide delegation in Google Workspace Admin Console
# 4. Grant the service account the spreadsheets scope
# 5. Share target spreadsheets with the service account email

# Datasheet Provider Selection: googlesheets | mock_datasheet
CONFIG_DATASHEET_PROVIDER=mock_datasheet

# GCP Project ID (optional, for logging)
LEAPFOR_INTEGRATION_DATASHEET_GOOGLESHEETS_PROJECT_ID=your-gcp-project-id

# Email to impersonate (REQUIRED for domain-wide delegation) - must be a Google Workspace user
LEAPFOR_INTEGRATION_DATASHEET_GOOGLESHEETS_DELEGATE_EMAIL=admin@yourdomain.com

# Path to service account JSON file (for local development)
LEAPFOR_INTEGRATION_DATASHEET_GOOGLESHEETS_SERVICE_ACCOUNT_KEY_PATH=/path/to/service-account.json

# Secret Manager resource path (for production)
# Format: projects/PROJECT_ID/secrets/SECRET_NAME/versions/latest
# LEAPFOR_INTEGRATION_DATASHEET_GOOGLESHEETS_SECRET_MANAGER_PATH=projects/my-project/secrets/sheets-sa-key/versions/latest

# Use Secret Manager instead of file path (true/false)
LEAPFOR_INTEGRATION_DATASHEET_GOOGLESHEETS_USE_SECRET_MANAGER=false

# Request timeout in seconds
LEAPFOR_INTEGRATION_DATASHEET_GOOGLESHEETS_TIMEOUT=30

# Default spreadsheet ID (optional, can be overridden per request)
# LEAPFOR_INTEGRATION_DATASHEET_GOOGLESHEETS_DEFAULT_SPREADSHEET_ID=your-spreadsheet-id

# =============================================================================
# GOOGLE SHEETS TABULAR INTEGRATION (Provider)
# =============================================================================
# Required build tags: google,googlesheets
# This is the provider configuration used by the tabular integration adapter
# for executing read/write operations on Google Sheets.
#
# NOTE: This is SEPARATE from the Datasheet Service configuration above.
#       The tabular provider handles the actual API calls to Google Sheets.

# Email to impersonate (REQUIRED) - must be a Google Workspace user
LEAPFOR_INTEGRATION_TABULAR_GOOGLESHEETS_DELEGATE_EMAIL=admin@yourdomain.com

# Path to service account JSON file (for local development)
LEAPFOR_INTEGRATION_TABULAR_GOOGLESHEETS_SERVICE_ACCOUNT_KEY_PATH=/path/to/service-account.json

# GCP Project ID (optional)
LEAPFOR_INTEGRATION_TABULAR_GOOGLESHEETS_PROJECT_ID=your-gcp-project-id

# Secret Manager resource path (for production)
# Format: projects/PROJECT_ID/secrets/SECRET_NAME/versions/latest
# LEAPFOR_INTEGRATION_TABULAR_GOOGLESHEETS_SECRET_MANAGER_PATH=projects/my-project/secrets/sheets-sa-key/versions/latest

# Use Secret Manager instead of file path (true/false)
LEAPFOR_INTEGRATION_TABULAR_GOOGLESHEETS_USE_SECRET_MANAGER=false

# Request timeout in seconds
LEAPFOR_INTEGRATION_TABULAR_GOOGLESHEETS_TIMEOUT=30

# Default spreadsheet ID for payment/workflow recording (optional)
# LEAPFOR_INTEGRATION_TABULAR_GOOGLESHEETS_DEFAULT_SOURCE_ID=your-spreadsheet-id

# Default sheet/table name for recording (optional, defaults to "Sheet1")
# LEAPFOR_INTEGRATION_TABULAR_GOOGLESHEETS_DEFAULT_TABLE=Sheet1

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================
# Used by test utilities

# TEST_USER_ID=test-user-123
# TEST_BUSINESS_TYPE=education
